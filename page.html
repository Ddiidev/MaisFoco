<!DOCTYPE html>
<html lang="pt-br">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Foco!</title>
<link href="/assets/index.css" rel="stylesheet" type="text/css">
<link href="/assets/neubrutalism.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    </head>
    
<body>
    <div class="flex floating-card">
        <!-- <button class="w-content margin-right">
            <div class="menu-icon">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </button> -->
        <button class="w-content">‚ú® Contribua com sua recomenda√ß√£o</button>
    </div>
    <div class="container">
        <!-- Ler -->
        <section class="content-section">
            <h2 class="section-title">Ler</h2>

            <gridflex class="justify-center">
                <article class="card">
                    <gridflex>
                        <div class="flex align-center w-content rounded-square badge badge-none">
    <span>Amazon</span>
</div>


                            <div class="flex align-center w-content rounded-square badge badge-warn">
    <span>Gratuito</span>
</div>


                    </gridflex>
                    <h3 class="card-title title-size"></h3>
                    <div style="height: 250px;">
                        <div class="card-image flex justify-center align-center">
                            <img nbtl src="" style="width: 40%;" />
                        </div>
                    </div>

                    <div class="flex justify-center padding-lr">
                        <a href="https://www.amazon.com.br" target="_blank" class="container-full margin-lr nbtl-button text-center">Ler agora!</a>
                    </div>

                    <div id="overview-amazon-0" class="margin-bt" style="max-height: 100px; overflow: hidden;">
                        
                    </div>
                    <div class="flex justify-center">
                        <div target-collapse="overview-amazon-0" onclick="toggleCollapse(this)" style="cursor: pointer;"
                            class="collapsible-button font-bold" onlyAddScroll>
                            ---- Ver mais ----
                        </div>
                    </div>

                    <div class="margin-bt padding-top">Avalia√ß√£o: <b>‚≠ê 0.0 </b></div>
                    <div class="margin-top">
                        <article class="margin-bot">
                        </article>
                        <article class="margin-top">
                        </article>
                    </div>
                </article>

                <article class="card">
                    <gridflex>
                        <div class="flex align-center w-content rounded-square badge badge-none">
    <span>Livro Gratuito</span>
</div>

                        <div class="flex align-center w-content rounded-square badge badge-warn">
    <span>Gratuito</span>
</div>

                        <div class="flex align-center w-content rounded-square badge badge-success">
    <span>Dom√≠nio p√∫blico</span>
</div>

                    </gridflex>
                    <h3 class="card-title title-size"></h3>
                    <div style="height: 250px;">
                        <div class="card-image flex justify-center align-center">
                            <img nbtl src="" style="width: 40%;" />
                        </div>
                    </div>

                    <div class="flex justify-center padding-lr">
                        <a href="https://www.livrosgratuitos.com" target="_blank" class="container-full margin-lr nbtl-button text-center">Ler agora!</a>
                    </div>

                    <div id="overview-livros-gratuitos" class="margin-bt" style="max-height: 100px; overflow: hidden;">
                        
                    </div>
                    <div class="flex justify-center">
                        <div target-collapse="overview-livros-gratuitos" onclick="toggleCollapse(this)" style="cursor: pointer;"
                            class="collapsible-button font-bold">
                            ---- Ver mais ----
                        </div>
                    </div>

                    <div class="margin-bt padding-top">Leitura: <b>üìñ Online </b></div>
                        <article class="margin-bot margin-top">
                            <gridflex>
                                <span>Pre√ßo: Gratuito</span>
                            </gridflex>
                        </article>
                </article>
            </gridflex>
        </section>

        <!-- Se√ß√£o Assistir -->
        <section class="content-section">
            <h2 class="section-title">Assistir</h2>
            <gridflex class="justify-center">
                <article class="card">
                    <gridflex>
                        <div class="flex align-center w-content rounded-square badge badge-none">
    <span>Mercado Livre Play</span>
</div>

                        <div class="flex align-center w-content rounded-square badge badge-warn">
    <span>Gratuito</span>
</div>

                    </gridflex>
                    <h3 class="card-title"></h3>
                    <div class="card-image flex justify-center">
                        <img nbtl src="" height="250" alt="" />
                    </div>
                    
                    <div class="flex justify-center padding-lr padding-top margin-top">
                        <a href="https://www.mercadolivre.com" target="_blank" class="container-full margin-lr nbtl-button text-center">Assistir agora!</a>
                    </div>
                    <div id="overview-mercado-livre" class="margin-bt" style="max-height: 100px; overflow: hidden;">
                        
                    </div>
                    <div class="flex justify-center">
                        <div target-collapse="overview-mercado-livre" onclick="toggleCollapse(this)"
                            style="cursor: pointer;" class="collapsible-button font-bold">
                            ---- Ver mais ----
                        </div>
                    </div>

                    <div class="margin-bt padding-top">Avalia√ß√£o: <b>‚≠ê 0.0
                        </b></div>
                    <ul>
                        <li>Ano: <b>0</b></li>
                    </ul>
                    <span>G√™neros: <b></b></span>
                </article>

                <article class="card">
                    <gridflex>
                        <div class="flex align-center w-content rounded-square badge badge-none">
    <span>Netflix</span>
</div>

                        <div class="flex align-center w-content rounded-square badge badge-warn">
    <span>Assinatura</span>
</div>

                    </gridflex>
                    <h3 class="card-title"></h3>
                    <div style="height: 250px;">
                        <div class="card-image flex justify-center align-center">
                            <img nbtl src="" width="300" style="margin-top: 10%;" />
                        </div>
                    </div>

                    <div class="flex justify-center padding-lr padding-top margin-top">
                        <a href="https://www.netflix.com" target="_blank" class="container-full margin-lr nbtl-button text-center">Assistir agora!</a>
                    </div>
                    <div id="overview-netflix" class="margin-bt" style="max-height: 100px; overflow: hidden;">
                        
                    </div>
                    <div class="flex justify-center">
                        <div target-collapse="overview-netflix" onclick="toggleCollapse(this)" style="cursor: pointer;"
                            class="collapsible-button font-bold">
                            ---- Ver mais ----
                        </div>
                    </div>

                    <div class="margin-bt padding-top">Avalia√ß√£o: <b>‚≠ê N√£o definido </b>
                    </div>
                    <ul>
                        <li>Ano: <b>0</b></li>
                    </ul>
                    <span>G√™neros: <b></b></span>
                </article>

            </gridflex>
        </section>

        <!-- Se√£o jogar -->
        <section class="content-section">
            <h2 class="section-title">Jogar</h2>

            <gridflex class="justify-center">
                <article class="card">
                    <gridflex>
                        <div class="flex align-center w-content rounded-square badge badge-none">
    <span>Instant Gaming</span>
</div>

                        <div class="flex align-center w-content rounded-square badge badge-warn">
    <span>Pago</span>
</div>

                    </gridflex>
                    <h3 class="card-title"></h3>
                    <div style="height: 250px;">
                        <div class="card-image flex justify-center align-center">
                        </div>
                    </div>

                    <div class="flex justify-center padding-lr padding-top margin-top">
                        <a href="https://www.instantgaming.com" target="_blank" class="container-full margin-lr nbtl-button text-center">Jogar agora!</a>
                    </div>
                    <div id="overview-instant-gaming" class="margin-bt" style="max-height: 100px; overflow: hidden;">
                        
                    </div>
                    <div class="flex justify-center">
                        <div target-collapse="overview-instant-gaming" onclick="toggleCollapse(this)"
                            style="cursor: pointer;" class="collapsible-button font-bold">
                            ---- Ver mais ----
                        </div>
                    </div>

                    <div>
                        <div class="margin-bt padding-top">
                            Avalia√ß√£o: <b>‚≠ê  </b>
                        </div>

                        <span class="margin-bot">G√™neros: <b></b></span>
                        <article class="margin-top">
                            Pre√ßo: R$ 0.0
                        </article>
                    </div>

                </article>
            </gridflex>
        </section>
    </div>

    <!--- FOOTER IS HERE -->
<footer class="container">
    <gridflex class="justify-between items-center aling-center padding-top margin-top">
        <div>
            <p>¬© 2024 Mais Foco! - Todos os direitos reservados</p>
        </div>
        <div>
            <a href="https://instagram.com/mais.foco.42" class="social-link nbtl-button">
                <i class="fab fa-instagram"></i> @mais.foco.42
            </a>
            <a href="/sobre" class="social-link nbtl-button">Sobre n√≥s</a>
        </div>
    </gridflex>
</footer>
    
    <!-- MODALS -->
    <div id="modal-main" class="modal" action-close-callback="closeModal">
        <article class="modal-content" style="width: 60%; height: 60%;">
            <header class="flex justify-space-between align-center padding-bot" style="height: 60px;">
                <h2 id="title-modal">TITLE</h2>
                <span class="close-modal" xclose-modal>&times;</span>
            </header>
            
            <div class="margin-top padding-top" style="height: 85%;">
                <iframe id="trailer" style="width: 100%; height: 100%;"></iframe>
            </div>
        </article>
    </div>

    <div id="modal-recomendation" class="modal" action-close-callback="closeRecomendationModal">
        <article class="modal-content modal-recomendation">
            <header class="flex justify-space-between align-center padding-bot text-center" style="height: 60px;">
                <h2>Contribua com sua recomenda√ß√£o</h2>
                <span class="close-modal" xclose-modal>&times;</span>
            </header>
            
            <div class="margin-top padding-top">
                <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>

<form class="container-full padding-lr padding-bt" style="max-width: 600px; margin: 0 auto;">
    <div role="group">
        <div class="margin-bt margin-right">
            <label for="name">Nome</label>
            <input type="text" id="name" name="name" class="container-full" placeholder="Seu nome">
        </div>

        <div class="margin-bt margin-left">
            <label for="email">Email*</label>
            <input type="email" id="email" name="email" class="container-full" placeholder="seu@email.com" required>
            <small class="text-muted">Apenas para confirma√ß√£o</small>
        </div>
    </div>

    <div class="margin-bt">
        <div class="flex gap-1 justify-center">
            <label class="radio-container" tooltip-data="Filme, anime, s√©rie ou novela(üòÅ) n√£o se limite! üöÄ">
                <input type="radio" name="category" value="watch" required>
                <span class="radio-label" >Filme üì∫</span>
                <span id="tooltip-data-movie" class="margin-top tooltip-for-mobile" hidden>
                    Filme, anime, s√©rie ou novela(üòÅ) n√£o se limite! üöÄ
                </span>
            </label>
            <label class="radio-container">
                <input type="radio" name="category" value="read" required>
                <span class="radio-label">Livro üìñ</span>
            </label>
            <label class="radio-container">
                <input type="radio" name="category" value="play" required>
                <span class="radio-label">Jogo üéÆ</span>
            </label>
        </div>
    </div>

    <div class="margin-bt">
        <label for="content-link">Link para o conte√∫do*</label>
        <input type="url" id="content-link" name="content-link" class="container-full" placeholder="https://..." required>
    </div>

    <div class="margin-bt">
        <label for="observation">Observa√ß√£o</label>
        <textarea id="observation" name="observation" class="container-full" rows="4" placeholder="Sua observa√ß√£o (opcional)"></textarea>
    </div>

    <div class="flex justify-center">
        <button type="submit" onclick="sendRecomendation()" class="w-content">Enviar Recomenda√ß√£o</button>
    </div>
</form>

<script>
main();

function main() {
    const tooltipArticles = document.getElementById('tooltip-data-movie')
    tooltipArticles.style.display = 'hidden';
    
    if (isMobile()) {
        tooltipArticles.style.display = 'inline-block';
    }
}

function isMobile() {
    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
}

// @include 'src/shareds/assets/utils/notifications.js'

function sendRecomendation() {
    // Prevent default form submission
    event.preventDefault();

    // Get form data
    const name = document.getElementById('name').value;
    const email = document.getElementById('email').value;
    const category = document.querySelector('input[name="category"]:checked').value;
    const contentLink = document.getElementById('content-link').value;
    const observation = document.getElementById('observation').value;

    // Create request body
    const data = {
        name: name,
        email: email,
        category: category,
        link: contentLink,
        observation: observation
    };

    congratulations();

    // Send POST request
    fetch('/api/v1/user-recomendation', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(data)
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
    })
    .then(data => {
        showNotification('Recomenda√ß√£o enviada com sucesso! Obrigado pela contribui√ß√£o! üéâ');
        congratulations();
    })
    .catch(error => {
        console.error('Error:', error);
        showNotification('Erro ao enviar a recomenda√ß√£o. Por favor, tente novamente.', 'error');
    });
}

// @include '/src/shareds/assets/utils/confettis_default.js'
</script>

<style>
.tooltip-for-mobile {
    font-size: small;
    font-style: italic;
    border: 2px dashed #333;
    padding: 8px;
}
.notification {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 15px 25px;
    border: 3px solid #000;
    box-shadow: 5px 5px 0px #000;
    font-weight: bold;
    z-index: 1000;
    animation: slideIn 0.5s ease-out;
    max-width: 350px;
}

.notification.success {
    background-color: #25d366;
    color: #000;
}

.notification.error {
    background-color: #ff4444;
    color: #fff;
}

@keyframes slideIn {
    from {
        transform: translateX(100%);
        opacity: 0;
    }
    to {
        transform: translateX(0);
        opacity: 1;
    }
}

.notification.fade-out {
    animation: fadeOut 0.5s ease-out forwards;
}

@keyframes fadeOut {
    from {
        opacity: 1;
        transform: translateX(0);
    }
    to {
        opacity: 0;
        transform: translateX(100%);
    }
}
</style>

            </div>
        </article>
    </div>

<script src="/assets/utils/devices.js"></script>
<script src="/assets/tags/modal.js"></script>
<script src="/assets/base.js"></script>
</body>

<script>

function isMobile() {
    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
}

function openTrailerModal(obj) {
    const url = obj.attributes['data-trailer'].textContent;
    const title = obj.attributes['data-title'].textContent;

    const iframTrailer = document.getElementById('trailer');
    const titleModal = document.getElementById('title-modal');
    const modal = document.getElementById('modal-main');

    titleModal.textContent = title;
    iframTrailer.src = convertToEmbed(url);
    modal.open();
}

function openPage(link) {
    if (link && link.trim() !== '') {
        window.open(link, '_blank');
    }
}

function closeModal() {
    const iframTrailer = document.getElementById('trailer');
    iframTrailer.src = '';
}

function closeRecomendationModal() {}

document.addEventListener('DOMContentLoaded', function() {
    const recomendationButton = document.querySelector('.floating-card button');
    if (recomendationButton) {
        recomendationButton.addEventListener('click', function() {
            const modal = document.getElementById('modal-recomendation');
            if (modal) {
                modal.open();
            }
        });
    }
});

function toggleCollapse(button) {
    const targetId = button.getAttribute('target-collapse');
    const targetElement = document.getElementById(targetId);

    if (targetElement) {
        const onlyAddScroll = button.hasAttribute('onlyAddScroll');

        if (targetElement.style.maxHeight === '100px') {
            button.textContent = '---- Ver menos ----';
            
            if (onlyAddScroll) {
                targetElement.style.overflowY = 'scroll';
            } else {
                targetElement.style.maxHeight = '250px';
                targetElement.style.overflowY = 'scroll';
            }
        } else {
            button.textContent = '---- Ver mais ----';
            
            if (!onlyAddScroll) {
                targetElement.style.maxHeight = '100px';
            }
            targetElement.style.overflowY = 'hidden';
        }
    }
}

function checkOverflow() {
    const buttons = document.querySelectorAll('.collapsible-button');
    buttons.forEach(button => {
        const targetId = button.getAttribute('target-collapse');
        const targetElement = document.getElementById(targetId);

        if (targetElement) {
            if (targetElement.scrollHeight <= 100) {
                button.style.opacity = '0';
                button.style.pointerEvents = 'none';
            } else {
                button.style.opacity = '1';
                button.style.pointerEvents = 'auto';
            }
        }
    });
}

window.addEventListener('DOMContentLoaded', checkOverflow);
</script>


<style>
.title-size {
    height: 60px;
}

.floating-card {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    padding: 10px;
    white-space: nowrap;
    font-size: 14px;
    padding: 12px 20px;
}

.floating-card button {
    background-color: white;
}

.menu-icon {
    display: flex;
    flex-direction: column;
    gap: 4px;
    padding: 2px;
}

.menu-icon span {
    width: 16px;
    height: 2px;
    background-color: #333;
    display: block;
}

.content-section {
    margin: 32px 0;
}

.section-title {
    font-size: 2em;
    margin-bottom: 20px;
    border-bottom: 3px solid var(--border-color);
    padding-bottom: 10px;
}

.cards-container {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}

.card {
    flex: 1;
    min-width: 300px;
    max-width: 400px;
    background: var(--background-color);
    border: 3px solid var(--border-color);
    box-shadow: 6px 6px 0 var(--border-color);
    padding: 16px;
}

.card[dashed] {
    transform: rotate(-5deg);
}

.free-tag {
    background: var(--secondary-color);
    padding: 5px 10px;
    border-radius: var(--default-rounded-square);
    display: inline-block;
    margin-bottom: 10px;
}

.modal-recomendation {
    width: 40%;
    height: auto;
}

/* Media queries for mobile L on class modal-recomendation */
@media screen and (max-width: 768px) {
    .modal-recomendation {
        width: 80%;
    }
}

@media screen and (max-width: 375px) {
    .modal-recomendation * {
        width: 100%;
        font-size: xx-small;
    }
}
.content-section {
    margin: 32px 0;
}

.section-title {
    font-size: 2em;
    margin-bottom: 20px;
    border-bottom: 3px solid var(--border-color);
    padding-bottom: 10px;
}

.cards-container {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}

.card {
    flex: 1;
    min-width: 300px;
    max-width: 400px;
    background: var(--background-color);
    border: 3px solid var(--border-color);
    box-shadow: 6px 6px 0 var(--border-color);
    padding: 16px;
}

.card[dashed] {
    transform: rotate(-5deg);
}

.free-tag {
    background: var(--secondary-color);
    padding: 5px 10px;
    border-radius: var(--default-rounded-square);
    display: inline-block;
    margin-bottom: 10px;
}

.plataform-name {
    background: gray;
    color: var(--font-color);
    padding: 5px 10px;
    border-radius: var(--default-rounded-square);
    display: inline-block;
    margin-bottom: 10px;
}

footer {
    margin-top: 40px;
    padding: 20px 0;
    border-top: 3px solid var(--border-color);
}

.social-link {
    margin-left: 20px;
    padding: 5px 10px;
}
</style>


</html>
